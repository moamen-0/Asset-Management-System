version: 1.0
runtime: docker
build:
  commands:
    build:
      - echo "Building Asset Management System..."
      - docker build -t asset-management .
run:
  env:
    - name: ASPNETCORE_ENVIRONMENT
      value: "Production"
    - name: ASPNETCORE_URLS
      value: "http://+:80"
  network:
    port: 80
    env: PORT
  secrets:
    - name: ConnectionStrings__DefaultConnection
      value-from: "/asset-management/production/connection-string"
    - name: Email__SenderEmail
      value-from: "/asset-management/production/email-sender"
    - name: Email__Account
      value-from: "/asset-management/production/email-account"
    - name: Email__Password
      value-from: "/asset-management/production/email-password"
